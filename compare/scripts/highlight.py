import numpy as np
import imutils
import cv2 as cv
lst=[[(1667, 285), (1746, 285), (1746, 342), (1667, 342)], [(3380, 260), (3458, 253), (3463, 309), (3385, 316)], [(3378, 1007), (3455, 993), (3465, 1053), (3388, 1066)], [(943, 1311), (1018, 1311), (1018, 1368), (943, 1368)], [(1404, 1514), (1477, 1514), (1477, 1568), (1404, 1568)], [(1089, 2560), (1166, 2560), (1166, 2617), (1089, 2617)], [(1397, 2800), (1473, 2793), (1478, 2851), (1402, 2858)], [(3186, 2846), (3247, 2835), (3253, 2870), (3192, 2880)], [(3195, 2903), (3270, 2890), (3273, 2909), (3198, 2922)], [(4161, 3117), (4307, 3117), (4307, 3171), (4161, 3171)], [(4522, 3115), (4558, 3109), (4563, 3134), (4527, 3141)]]
img = cv.imread('Correct.jpg')
#img = cv.rectangle(img, (1667,285), (1746,342), (255,0,0), 4)
for a in lst:
    print a[0][0],a[0][1],a[2][0],a[2][1]
    p1=a[0][0]-10
    p2=a[0][1]-10
    p3=a[2][0]+10
    p4=a[2][1]+10
    img = cv.rectangle(img, (p1,p2), (p3,p4), (255,0,0), 4)
    cv.imwrite('Draw01.jpg',img)
    #print a[1][0][0],a[1][0][1],a[1][2][0],a[1][2][1]
image = cv.imread("Draw01.jpg")
rotated = imutils.rotate_bound(image, 90)
cv.imwrite('Draw021.jpg',rotated)
lst2=[[(2455, 632), (2525, 632), (2525, 689), (2455, 689)], [(1464, 1292), (1532, 1292), (1532, 1349), (1464, 1349)], [(1096, 2238), (1178, 2238), (1178, 2297), (1096, 2297)], [(2448, 2243), (2513, 2240), (2515, 2298), (2451, 2301)], [(2441, 2967), (2510, 2973), (2505, 3033), (2436, 3027)], [(2428, 3789), (2504, 3782), (2509, 3838), (2433, 3845)]]
img = cv.imread('Draw021.jpg')
for a in lst2:
    print a[0][0],a[0][1],a[2][0],a[2][1]
    p1=a[0][0]-10
    p2=a[0][1]-10
    p3=a[2][0]+10
    p4=a[2][1]+10
    img = cv.rectangle(img, (p1,p2), (p3,p4), (255,0,0), 4)
    cv.imwrite('Draw021.jpg',img)
image = cv.imread("Draw021.jpg")
rotated = imutils.rotate_bound(image, -90)
cv.imwrite('Final.jpg',rotated)
#cv.imwrite('Draw01.jpg',img)
#cv.imshow('Draw01',img2)
#cv.waitKey(0)
